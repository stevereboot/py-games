// public/app/shared/table.filter.js

var tableFilter = angular.module('tableFilter', []);

tableFilter.filter('picker', ['$interpolate',
	function($interpolate) {
		return function() {
			if (arguments[1] == 'text') {
				return arguments[0];
			} else if (arguments[1].indexOf('percent') > -1) {
				var digits = arguments[1].split(':')[1];
				var result = $interpolate('{{value | ' + 'number: ' + digits + '}}');
				return result({value: arguments[0] * 100});
			} else if (arguments[1] == 'date') {
				var date = new Date(arguments[0]);
				return moment(date).format('MM/DD/YYYY hh:mm a');
			} else {
				var result = $interpolate('{{value | ' + arguments[1] + '}}');
				return result({value: arguments[0]});
			}
		};
	}
]);
